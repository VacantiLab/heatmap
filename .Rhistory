dl <- '/Users/nate/Dropbox/Research/Vacanti_Laboratory/Teaching/proteins_transcripts_and_metabolism/Spring_2020/transcriptomics_gtex_files/data_set/'
setwd('/Users/nate/git_hub_projects/heatmap')
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group',NULL)
hm <- MakeHeatMap(dl,'Group','row_mean_center_sd_norm')
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','row_mean_center_sd_norm')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2')
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2')
DF[1:5,1:5]
DFt <- table(DF)
DFt <- table(DF$Description)
DFt[1]
DFt[2]
DFt[DFt==2]
length(DFt)
DFt[DFt>1]
length(DF$Description)
TRUE | FALSE
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2')
DFt <- table(DF$Description)
DFt[DFt>1]
hm <- MakeHeatMap(dl,'Group','row_mednorm_col_mednorm')
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','row_mednorm_col_mednorm')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'))
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'))
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'))
np.zeros(4)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'))
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'))
g <- table(DF[,1])
DF[,1][g>1]
g
g>1
sum(g>1)
g[g>1]
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'))
n <- []
n<-c()
class(0.5)
class(0.5) == 'numeric'
class(1) == 'numeric'
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2)
source('initialize_heatmap.R')
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2)
min_val <- min(DATA)
min_val
n_mins <- sum(DATA[1,] == min_val)
n_mins
n_mins <- sum(DATA[2,] == min_val)
n_mins
DATA[1:10,1:10]
min_val <- min(DATA)
samples <- length(colnames(DATA))
rows_to_keep <- c()
rows_discarded <- 0
browser()
for (row in rownames(DATA))
{
n_mins <- sum(DATA[row,] == min_val)
criteria <- n_mins/n_samples >= proportion
if (criteria){rows_to_keep <- c(rows_to_keep,row)}
if (!criteria){rows_discarded <- rows_discarded + 1}
}
DATA <- DATA[rows_to_keep,]
rows_discarded
for (row in rownames(DATA))
{
n_mins <- sum(DATA[row,] == min_val)
criteria <- n_mins/n_samples >= proportion
if (criteria){rows_to_keep <- c(rows_to_keep,row)}
if (!criteria){rows_discarded <- rows_discarded + 1}
}
DATA <- DATA[rows_to_keep,]
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2)
rows_to_keep
n_mins
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2)
n_mins
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2)
DATA <- hm[[4]]
min(DATA)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2,break_seq = seq(-5,5,0.5))
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2,break_seq = seq(-5,5,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2,break_seq = seq(-3,3,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.2,break_seq = seq(-3,3,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.5,break_seq = seq(-3,3,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.3,break_seq = seq(-3,3,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.3,break_seq = seq(-3,3,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.3,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.5,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.25,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.25,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.25,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
sum(DATA[row,] < mean(DATA[row,]))
mean(DATA[row,])
DATA[row,]
row
DATA[row,]
DATA[1,]
DATA[2,]
DATA[1:5,1:5]
DATA[1,1:5]
DATA[1,]
DATA[1,1]
DATA[1,:]
length(DATA[1,])
sum(DATA[1,])
mean(DATA[1,])
min(DATA[1,])
max(DATA[1,])
median(DATA[1,])
g <- c('r',55,6,7)
class(g)
class(g)==''character''
class(g)=='character'
class(g[2])=='character'
g[2]
class(DATA[1,])
class(DATA[1,1])
class(DATA[1,2])
median(as.numeric(DATA[1,]))
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
sum(DATA[row,] < mean(as.numeric(DATA[row,])))
sum(DATA[row,] > mean(as.numeric(DATA[row,])))
958_246
958+246
n_samples
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
source('initialize_heatmap.R')
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
hm <- MakeHeatMap(dl,'Group','add_halfnon0min_row_meannorm_col_mednorm_log2',select_groups=c('Adipose - Subcutaneous','Adipose - Visceral (Omentum)'),FilterRowsForMin = 0.7,break_seq = seq(-2,2,0.5),transform_after_column_exclusion = TRUE)
